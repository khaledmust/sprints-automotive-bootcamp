\hypertarget{terminal_8c}{}\doxysection{terminal.\+c File Reference}
\label{terminal_8c}\index{terminal.c@{terminal.c}}
{\ttfamily \#include \char`\"{}terminal.\+h\char`\"{}}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{terminal_8h_a56c6d7b821b971e7bad4adec8f41a749}{EN\+\_\+terminal\+Error\+\_\+t}} \mbox{\hyperlink{terminal_8c_ac9edcd5240cf8e60a36159bd2ce7c692}{\+\_\+\+\_\+is\+Time\+Formatted}} (char $\ast$time\+String)
\begin{DoxyCompactList}\small\item\em Checks the format of the input time string in the DD/\+MM/\+YY. \end{DoxyCompactList}\item 
\mbox{\hyperlink{terminal_8h_a56c6d7b821b971e7bad4adec8f41a749}{EN\+\_\+terminal\+Error\+\_\+t}} \mbox{\hyperlink{terminal_8c_ae693a265bc3eb2093154d13710542c68}{get\+Transaction\+Date}} (\mbox{\hyperlink{struct_s_t__terminal_data__t}{ST\+\_\+terminal\+Data\+\_\+t}} $\ast$term\+Data)
\begin{DoxyCompactList}\small\item\em Asks for the transaction date and store it in the terminal data. \end{DoxyCompactList}\item 
\mbox{\hyperlink{terminal_8h_a56c6d7b821b971e7bad4adec8f41a749}{EN\+\_\+terminal\+Error\+\_\+t}} \mbox{\hyperlink{terminal_8c_a9d542275b72784f5265f4d1a6ac23828}{is\+Card\+Expired}} (\mbox{\hyperlink{struct_s_t__card_data__t}{ST\+\_\+card\+Data\+\_\+t}} $\ast$card\+Data, \mbox{\hyperlink{struct_s_t__terminal_data__t}{ST\+\_\+terminal\+Data\+\_\+t}} $\ast$term\+Data)
\begin{DoxyCompactList}\small\item\em Compares the card expiry date with the transaction date. \end{DoxyCompactList}\item 
\mbox{\hyperlink{terminal_8h_a56c6d7b821b971e7bad4adec8f41a749}{EN\+\_\+terminal\+Error\+\_\+t}} \mbox{\hyperlink{terminal_8c_a55275ca9276c9d8b0d911d3f1652a9c7}{get\+Transaction\+Amount}} (\mbox{\hyperlink{struct_s_t__terminal_data__t}{ST\+\_\+terminal\+Data\+\_\+t}} $\ast$term\+Data)
\begin{DoxyCompactList}\small\item\em Asks for the transaction amount and saves it into terminal data. \end{DoxyCompactList}\item 
\mbox{\hyperlink{terminal_8h_a56c6d7b821b971e7bad4adec8f41a749}{EN\+\_\+terminal\+Error\+\_\+t}} \mbox{\hyperlink{terminal_8c_a690420e57245346b8f4de81a0a772d82}{is\+Below\+Max\+Amount}} (\mbox{\hyperlink{struct_s_t__terminal_data__t}{ST\+\_\+terminal\+Data\+\_\+t}} $\ast$term\+Data)
\begin{DoxyCompactList}\small\item\em Compares the input transaction amount with the terminal max allowed amount. \end{DoxyCompactList}\item 
\mbox{\hyperlink{terminal_8h_a56c6d7b821b971e7bad4adec8f41a749}{EN\+\_\+terminal\+Error\+\_\+t}} \mbox{\hyperlink{terminal_8c_ae241356d95f17d09cace059a8ad03f22}{set\+Max\+Amount}} (\mbox{\hyperlink{struct_s_t__terminal_data__t}{ST\+\_\+terminal\+Data\+\_\+t}} $\ast$term\+Data, float max\+Amount)
\begin{DoxyCompactList}\small\item\em Sets the maximum transaction amount. \end{DoxyCompactList}\item 
\mbox{\hyperlink{terminal_8h_a56c6d7b821b971e7bad4adec8f41a749}{EN\+\_\+terminal\+Error\+\_\+t}} \mbox{\hyperlink{terminal_8c_a929e3d2dbfce0d76cdab9c0ebea8ae73}{is\+Valid\+Card\+PAN}} (\mbox{\hyperlink{struct_s_t__card_data__t}{ST\+\_\+card\+Data\+\_\+t}} $\ast$card\+Data)
\begin{DoxyCompactList}\small\item\em Check if the PAN is a Luhn number or not. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__unit_testing_gab16929a1becad54beb083e45d77be568}{get\+Transaction\+Date\+Test}} (void)
\begin{DoxyCompactList}\small\item\em Perform unit testing on the get\+Transaction\+Date function. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__unit_testing_ga198f9cf511b456355b488721615c5f10}{is\+Card\+Expired\+Test}} (void)
\begin{DoxyCompactList}\small\item\em Perform unit testing on the is\+Card\+Expired function. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__unit_testing_ga8a12d227b4a667b7ff67991f08d4c372}{get\+Transaction\+Amount\+Test}} (void)
\begin{DoxyCompactList}\small\item\em Perform unit testing on the get\+Transaction\+Amount function. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__unit_testing_ga16202e394fbf87ca1f08779eba0ea255}{is\+Below\+Max\+Amount\+Test}} (void)
\begin{DoxyCompactList}\small\item\em Perform unit testing on the is\+Below\+Max\+Amount function. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__unit_testing_gadf0430e533031ffec336458c02810ef8}{set\+Max\+Amount\+Test}} (void)
\begin{DoxyCompactList}\small\item\em Perform unit testing on the set\+Max\+Amount function. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
const char $\ast$ \mbox{\hyperlink{terminal_8c_a11d8725fc5e40ebc51a54ed54a21d336}{terminal\+Error\+\_\+test}} \mbox{[}$\,$\mbox{]}
\begin{DoxyCompactList}\small\item\em This array corresponds to all the return status of the terminal application. \end{DoxyCompactList}\item 
int8\+\_\+t \mbox{\hyperlink{terminal_8c_a4c9c78d187192be3453ddb0685ac4eae}{program\+State\+\_\+test}} = -\/1
\begin{DoxyCompactList}\small\item\em This variable holds the return status of the function we are performing the unit test on. \end{DoxyCompactList}\item 
\mbox{\hyperlink{struct_s_t__terminal_data__t}{ST\+\_\+terminal\+Data\+\_\+t}} \mbox{\hyperlink{terminal_8c_a4ef08091b7dfa634eb3a6f3f46048509}{terminal\+Data\+\_\+test}}
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{struct_s_t__terminal_data__t}{ST\+\_\+terminal\+Data\+\_\+t}} structure that is used for unit testing. \end{DoxyCompactList}\item 
\mbox{\hyperlink{struct_s_t__card_data__t}{ST\+\_\+card\+Data\+\_\+t}} \mbox{\hyperlink{terminal_8c_a00c65068f5fc828d1f364a3ccf2ea569}{card\+Data\+\_\+test}}
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{struct_s_t__card_data__t}{ST\+\_\+card\+Data\+\_\+t}} structure that is used for unit testing. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{terminal_8c_ac9edcd5240cf8e60a36159bd2ce7c692}\label{terminal_8c_ac9edcd5240cf8e60a36159bd2ce7c692}} 
\index{terminal.c@{terminal.c}!\_\_isTimeFormatted@{\_\_isTimeFormatted}}
\index{\_\_isTimeFormatted@{\_\_isTimeFormatted}!terminal.c@{terminal.c}}
\doxysubsubsection{\texorpdfstring{\_\_isTimeFormatted()}{\_\_isTimeFormatted()}}
{\footnotesize\ttfamily \mbox{\hyperlink{terminal_8h_a56c6d7b821b971e7bad4adec8f41a749}{EN\+\_\+terminal\+Error\+\_\+t}} \+\_\+\+\_\+is\+Time\+Formatted (\begin{DoxyParamCaption}\item[{char $\ast$}]{time\+String }\end{DoxyParamCaption})}



Checks the format of the input time string in the DD/\+MM/\+YY. 


\begin{DoxyParams}{Parameters}
{\em time\+String} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
WRONG\+\_\+\+DATE If the string disproves the format. 

TERMINAL\+\_\+\+OK If the string proves the format. 
\end{DoxyReturn}
\mbox{\Hypertarget{terminal_8c_a55275ca9276c9d8b0d911d3f1652a9c7}\label{terminal_8c_a55275ca9276c9d8b0d911d3f1652a9c7}} 
\index{terminal.c@{terminal.c}!getTransactionAmount@{getTransactionAmount}}
\index{getTransactionAmount@{getTransactionAmount}!terminal.c@{terminal.c}}
\doxysubsubsection{\texorpdfstring{getTransactionAmount()}{getTransactionAmount()}}
{\footnotesize\ttfamily \mbox{\hyperlink{terminal_8h_a56c6d7b821b971e7bad4adec8f41a749}{EN\+\_\+terminal\+Error\+\_\+t}} get\+Transaction\+Amount (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_s_t__terminal_data__t}{ST\+\_\+terminal\+Data\+\_\+t}} $\ast$}]{term\+Data }\end{DoxyParamCaption})}



Asks for the transaction amount and saves it into terminal data. 

Prompts the user to enter the transaction amount and saves trans\+Amount member of \mbox{\hyperlink{struct_s_t__terminal_data__t}{ST\+\_\+terminal\+Data\+\_\+t}}.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em term\+Data} & \mbox{\hyperlink{struct_s_t__terminal_data__t}{ST\+\_\+terminal\+Data\+\_\+t}} structure that holds the value of the transaction amount. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
INVALID\+\_\+\+AMOUNT Transaction amount is less than or equal to 0. 

TERMINAL\+\_\+\+OK Transaction amount is valid. 
\end{DoxyReturn}
\mbox{\Hypertarget{terminal_8c_ae693a265bc3eb2093154d13710542c68}\label{terminal_8c_ae693a265bc3eb2093154d13710542c68}} 
\index{terminal.c@{terminal.c}!getTransactionDate@{getTransactionDate}}
\index{getTransactionDate@{getTransactionDate}!terminal.c@{terminal.c}}
\doxysubsubsection{\texorpdfstring{getTransactionDate()}{getTransactionDate()}}
{\footnotesize\ttfamily \mbox{\hyperlink{terminal_8h_a56c6d7b821b971e7bad4adec8f41a749}{EN\+\_\+terminal\+Error\+\_\+t}} get\+Transaction\+Date (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_s_t__terminal_data__t}{ST\+\_\+terminal\+Data\+\_\+t}} $\ast$}]{term\+Data }\end{DoxyParamCaption})}



Asks for the transaction date and store it in the terminal data. 

The function gets the current time of the terminal and puts it the DD/\+MM/\+YYYY format, then copies it to the \mbox{\hyperlink{struct_s_t__terminal_data__t}{ST\+\_\+terminal\+Data\+\_\+t}} member \textquotesingle{}transaction\+Date\textquotesingle{}.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em term\+Data} & 10 characters string in the the format DD/\+MM/\+YYYY. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
WRONG\+\_\+\+DATE The transaction date is NULL or in the wrong format. 

TERMINAL\+\_\+\+OK Transaction date is valid. 
\end{DoxyReturn}
\mbox{\Hypertarget{terminal_8c_a690420e57245346b8f4de81a0a772d82}\label{terminal_8c_a690420e57245346b8f4de81a0a772d82}} 
\index{terminal.c@{terminal.c}!isBelowMaxAmount@{isBelowMaxAmount}}
\index{isBelowMaxAmount@{isBelowMaxAmount}!terminal.c@{terminal.c}}
\doxysubsubsection{\texorpdfstring{isBelowMaxAmount()}{isBelowMaxAmount()}}
{\footnotesize\ttfamily \mbox{\hyperlink{terminal_8h_a56c6d7b821b971e7bad4adec8f41a749}{EN\+\_\+terminal\+Error\+\_\+t}} is\+Below\+Max\+Amount (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_s_t__terminal_data__t}{ST\+\_\+terminal\+Data\+\_\+t}} $\ast$}]{term\+Data }\end{DoxyParamCaption})}



Compares the input transaction amount with the terminal max allowed amount. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em term\+Data} & \mbox{\hyperlink{struct_s_t__terminal_data__t}{ST\+\_\+terminal\+Data\+\_\+t}} structure that holds the value for the maximum transaction amount. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
EXCEED\+\_\+\+MAX\+\_\+\+AMOUNT Transaction amount is larger than the terminal max allowed amount. 

TERMINAL\+\_\+\+OK Transaction amount is within the accepted range. 
\end{DoxyReturn}
\mbox{\Hypertarget{terminal_8c_a9d542275b72784f5265f4d1a6ac23828}\label{terminal_8c_a9d542275b72784f5265f4d1a6ac23828}} 
\index{terminal.c@{terminal.c}!isCardExpired@{isCardExpired}}
\index{isCardExpired@{isCardExpired}!terminal.c@{terminal.c}}
\doxysubsubsection{\texorpdfstring{isCardExpired()}{isCardExpired()}}
{\footnotesize\ttfamily \mbox{\hyperlink{terminal_8h_a56c6d7b821b971e7bad4adec8f41a749}{EN\+\_\+terminal\+Error\+\_\+t}} is\+Card\+Expired (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_s_t__card_data__t}{ST\+\_\+card\+Data\+\_\+t}} $\ast$}]{card\+Data,  }\item[{\mbox{\hyperlink{struct_s_t__terminal_data__t}{ST\+\_\+terminal\+Data\+\_\+t}} $\ast$}]{term\+Data }\end{DoxyParamCaption})}



Compares the card expiry date with the transaction date. 

Subtracts the card year from the current year and if the result is positive then the card is valid, else it\textquotesingle{}s invalid.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em card\+Data} & This parameter is from the ST\+\_\+\+Card\+Data\+\_\+t structure. \\
\hline
\mbox{\texttt{ in}}  & {\em term\+Data} & \mbox{\hyperlink{struct_s_t__terminal_data__t}{ST\+\_\+terminal\+Data\+\_\+t}} structure that holds the value for the current time of the terminal. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
EXPIRED\+\_\+\+DATA Card is expired. 

TERMINAL\+\_\+\+OK Card is accepted. 
\end{DoxyReturn}
\mbox{\Hypertarget{terminal_8c_a929e3d2dbfce0d76cdab9c0ebea8ae73}\label{terminal_8c_a929e3d2dbfce0d76cdab9c0ebea8ae73}} 
\index{terminal.c@{terminal.c}!isValidCardPAN@{isValidCardPAN}}
\index{isValidCardPAN@{isValidCardPAN}!terminal.c@{terminal.c}}
\doxysubsubsection{\texorpdfstring{isValidCardPAN()}{isValidCardPAN()}}
{\footnotesize\ttfamily \mbox{\hyperlink{terminal_8h_a56c6d7b821b971e7bad4adec8f41a749}{EN\+\_\+terminal\+Error\+\_\+t}} is\+Valid\+Card\+PAN (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_s_t__card_data__t}{ST\+\_\+card\+Data\+\_\+t}} $\ast$}]{card\+Data }\end{DoxyParamCaption})}



Check if the PAN is a Luhn number or not. 


\begin{DoxyParams}{Parameters}
{\em card\+Data} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
INVALID\+\_\+\+CARD If the number is not Luhn number. 

TERMINAL\+\_\+\+OK If the number is valid. 
\end{DoxyReturn}
\mbox{\Hypertarget{terminal_8c_ae241356d95f17d09cace059a8ad03f22}\label{terminal_8c_ae241356d95f17d09cace059a8ad03f22}} 
\index{terminal.c@{terminal.c}!setMaxAmount@{setMaxAmount}}
\index{setMaxAmount@{setMaxAmount}!terminal.c@{terminal.c}}
\doxysubsubsection{\texorpdfstring{setMaxAmount()}{setMaxAmount()}}
{\footnotesize\ttfamily \mbox{\hyperlink{terminal_8h_a56c6d7b821b971e7bad4adec8f41a749}{EN\+\_\+terminal\+Error\+\_\+t}} set\+Max\+Amount (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_s_t__terminal_data__t}{ST\+\_\+terminal\+Data\+\_\+t}} $\ast$}]{term\+Data,  }\item[{float}]{max\+Amount }\end{DoxyParamCaption})}



Sets the maximum transaction amount. 

Takes the maximum allowed amount and stores it into terminal data.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em term\+Data} & \mbox{\hyperlink{struct_s_t__terminal_data__t}{ST\+\_\+terminal\+Data\+\_\+t}} structure that contains \textquotesingle{}max\+Trans\+Amount\textquotesingle{} member. \\
\hline
\mbox{\texttt{ in}}  & {\em max\+Amount} & The maximum amount to be performed by the terminal. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
INVALID\+\_\+\+MAX\+\_\+\+AMOUNT Transaction amount is less than or equal 0. 

TERMINAL\+\_\+\+OK Transaction amount is valid. 
\end{DoxyReturn}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{terminal_8c_a00c65068f5fc828d1f364a3ccf2ea569}\label{terminal_8c_a00c65068f5fc828d1f364a3ccf2ea569}} 
\index{terminal.c@{terminal.c}!cardData\_test@{cardData\_test}}
\index{cardData\_test@{cardData\_test}!terminal.c@{terminal.c}}
\doxysubsubsection{\texorpdfstring{cardData\_test}{cardData\_test}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_s_t__card_data__t}{ST\+\_\+card\+Data\+\_\+t}} card\+Data\+\_\+test}



\mbox{\hyperlink{struct_s_t__card_data__t}{ST\+\_\+card\+Data\+\_\+t}} structure that is used for unit testing. 

\mbox{\Hypertarget{terminal_8c_a4c9c78d187192be3453ddb0685ac4eae}\label{terminal_8c_a4c9c78d187192be3453ddb0685ac4eae}} 
\index{terminal.c@{terminal.c}!programState\_test@{programState\_test}}
\index{programState\_test@{programState\_test}!terminal.c@{terminal.c}}
\doxysubsubsection{\texorpdfstring{programState\_test}{programState\_test}}
{\footnotesize\ttfamily int8\+\_\+t program\+State\+\_\+test = -\/1}



This variable holds the return status of the function we are performing the unit test on. 

\mbox{\Hypertarget{terminal_8c_a4ef08091b7dfa634eb3a6f3f46048509}\label{terminal_8c_a4ef08091b7dfa634eb3a6f3f46048509}} 
\index{terminal.c@{terminal.c}!terminalData\_test@{terminalData\_test}}
\index{terminalData\_test@{terminalData\_test}!terminal.c@{terminal.c}}
\doxysubsubsection{\texorpdfstring{terminalData\_test}{terminalData\_test}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_s_t__terminal_data__t}{ST\+\_\+terminal\+Data\+\_\+t}} terminal\+Data\+\_\+test}



\mbox{\hyperlink{struct_s_t__terminal_data__t}{ST\+\_\+terminal\+Data\+\_\+t}} structure that is used for unit testing. 

\mbox{\Hypertarget{terminal_8c_a11d8725fc5e40ebc51a54ed54a21d336}\label{terminal_8c_a11d8725fc5e40ebc51a54ed54a21d336}} 
\index{terminal.c@{terminal.c}!terminalError\_test@{terminalError\_test}}
\index{terminalError\_test@{terminalError\_test}!terminal.c@{terminal.c}}
\doxysubsubsection{\texorpdfstring{terminalError\_test}{terminalError\_test}}
{\footnotesize\ttfamily const char$\ast$ terminal\+Error\+\_\+test\mbox{[}$\,$\mbox{]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \{\textcolor{stringliteral}{"{}TERMINAL\_OK"{}},\textcolor{stringliteral}{"{}WRONG\_DATE"{}},\textcolor{stringliteral}{"{}EXPIRED\_CARD"{}},\textcolor{stringliteral}{"{}INVALID\_CARD"{}},}
\DoxyCodeLine{                               \textcolor{stringliteral}{"{}INVALID\_AMOUNT"{}},\textcolor{stringliteral}{"{}EXCEED\_MAX\_AMOUNT"{}},\textcolor{stringliteral}{"{}INVALID\_MAX\_AMOUNT"{}}\}}

\end{DoxyCode}


This array corresponds to all the return status of the terminal application. 

